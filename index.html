<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width, user-scalable=yes, initial-scale=1, maximum-scale=1"
		/>
		<meta name="mobile-web-app-capable" content="yes" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="HandheldFriendly" content="true" />

		<base target="_blank" />
		<title>
			opencv.js Demo: Simple realtime, in-browser face detection
		</title>

		<link href="css/index.css" rel="stylesheet" />
		<!-- Place this tag in your head or just before your close body tag. -->
		<link
			href="https://fonts.googleapis.com/css?family=Open+Sans|Source+Code+Pro"
			rel="stylesheet"
		/>
	</head>

	<body>
		<!-- <main> -->
		<aside class="sidebar">
			<a href="https://github.com/ucisysarch/opencvjs">
				<h1 class="heading">opencv.js</h1>
			</a>
			<p class="sidebar-text">
				Simple realtime, in-browser face detection using
				<a
					href="https://docs.opencv.org/trunk/d7/d8b/tutorial_py_face_detection.html"
				>
					haar cascades
				</a>
			</p>
		</aside>
		<section id="content">
			<div id="info-container">
				<div id="info">
					<ul>
						<li>Point your camera to your face</li>
						<li>
							Make sure your face is properly lit
						</li>
					</ul>
				</div>
			</div>
			<div id="video-container" class="invisible">
				<video
					id="gum-local"
					class="invisible"
					autoplay
					playsinline
				></video>
				<canvas id="canvasOutput"></canvas>
			</div>
			<div id="button-container">
				<button id="showVideo" class="btn btn-secondary">
					<div class="loading-container">
						<div class="loadingSpinner"></div>
						<span class="loadingtext">Loading opencv.js</span>
					</div>
				</button>
			</div>
			<div id="errorMsg"></div>
		</section>
		<footer id="footer">
			<div id="follow-container">
				<p>
					Get in touch
				</p>
				<script
					async
					defer
					src="https://buttons.github.io/buttons.js"
				></script>
				<div id="follow-buttons-container">
					<!-- Place this tag where you want the button to render. -->
					<script
						async
						defer
						src="https://buttons.github.io/buttons.js"
					></script>
					<a
						class="github-button"
						href="https://github.com/tusharpandey13"
						data-size="large"
						aria-label="Follow @tusharpandey13 on GitHub"
						>Follow @tusharpandey13</a
					>
					<a
						href="https://twitter.com/_tusharpandey13?ref_src=twsrc%5Etfw"
						class="twitter-follow-button"
						data-size="large"
						data-dnt="true"
						data-show-count="false"
						>Follow me</a
					>
					<script
						async
						src="https://platform.twitter.com/widgets.js"
						charset="utf-8"
					></script>
				</div>
			</div>
			<div id="final-footer">
				<span>Â© Tushar Pandey, 2019</span>
			</div>
		</footer>
		<!-- </main> -->

		<!--scrips below-->

		<script src="js/adapter-latest.js"></script>
		<script src="js/utils.js"></script>
		<!-- <script async src="js/opencv.js" onload="opencvIsReady()"></script> -->
		<script src="js/index.js"></script>
		<script>
			var Module = {
				wasmBinaryFile:
					"https://huningxin.github.io/opencv.js/build/wasm/opencv_js.wasm",
				preRun: [
					function() {
						// Module.FS_createPreloadedFile('/', 'haarcascade_eye.xml', 'https://raw.githubusercontent.com/opencv/opencv/master/data/haarcascades/haarcascade_eye.xml', true, false);
						Module.FS_createPreloadedFile(
							"/",
							"haarcascade_frontalface_default.xml",
							"https://raw.githubusercontent.com/opencv/opencv/master/data/haarcascades/haarcascade_frontalface_default.xml",
							true,
							false
						);
						// Module.FS_createPreloadedFile('/', 'haarcascade_profileface.xml', 'https://raw.githubusercontent.com/opencv/opencv/master/data/haarcascades/haarcascade_profileface.xml', true, false);
					}
				],
				_main: function() {
					opencvIsReady();
				}
			};
		</script>
		<script
			async
			src="https://huningxin.github.io/opencv.js/build/wasm/opencv.js"
		></script>
	</body>
</html>
